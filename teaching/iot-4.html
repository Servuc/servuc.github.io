<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Thomas SELLE (aka. Servuc) - IOT TP3</title>
    <link rel="stylesheet" href="/dist/style.css">
</head>
<body>

<div class="top-bar">
    <div class="top-bar-left">
        <ul class="menu">
            <li class="menu-text">IOT - TP 3 : "Simulation" d'une Block-Chain</li>
            <li><a href="#" data-summary="bases">Les bases</a></li>
            <li><a href="#" data-summary="communicate">Pour communiquer</a></li>
        </ul>
    </div>

    <div class="top-bar-right">
        <ul class="menu">
            <li class="menu-text">Thomas SELLE (aka. Servuc)</li>
            <li><a href="/">Servuc.fr</a></li>
        </ul>
    </div>
</div>


<div class="slider">
    <div>
        <div class="slider-slide">
            <div class="row">
                <h1 class="padding10">IOT - TP 3 : "Simulation" d'une Block-Chain</h1>
                <h2>Thomas S.</h2>
                <h3 class="pull-right">2016-2017</h3>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center" data-summary="summary">IOT - TP 3 : "Simulation" d'une Block-Chain</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>Sommaire</h2>
                <ul>
                    <li>Les bases</li>
                    <li>Pour communiquer</li>
                </ul>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center" data-summary="bases">Les bases</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>Qu'est ce qu'une Block-Chain ? <a href="http://www.chainofthings.com/news/2017/1/20/blockchain-is-a-4th-industrial-rev-tech-for-next-gen-energy-grid" target="_blank"><i class="fa fa-external-link"></i></a> </h2>
                <ul>
                    <li>Ensemble d'√©l√©ments √©lectriques/√©lectroniques fonctionnant ensemble</li>
                    <li>IA, IOT, Robots, ...</li>
                    <li>Certains y voient la 4<sup>√®me</sup> r√©volution industrielle</li>
                    <li>ZWave : Capteur vers capteurs</li>
                </ul>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center">Les bases</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>La simulation dans notre cas</h2>
                <ul>
                    <li>Chaque groupe est un √©l√©ment</li>
                    <li>Utilisation de la puce NRF24L01 et de MySensors</li>
                    <li>Objectif : √âclairer un chemin <i class="fa fa-smile-o"></i></li>
                </ul>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center">Les bases</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>Branchement de la puce NRF24L01</h2>
                <p>
                    C'est ici : <a href="uno-nrf24l01.png" target="_blank">Arduino Uno</a> ou <a href="mega-nrf24l01.png" target="_blank">Arduino Mega 2560</a><br />
                    <b>Attention !!! 3.3V SUR LE NRF24L01</b> et <b>POUR LE MEGA :</b><br />
                    <span class="code">
                        #define MY_RF24_CE_PIN 49<br />
                        #define MY_RF24_CS_PIN 53
                    </span>
                </p>
                <h2>Installation de la librairie MySensors</h2>
                <p>
                    <a href="https://www.mysensors.org/about/arduino#installing-the-sensor-libraries" target="_blank">RTFM ü¶Ñ</a>
                </p>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center" data-summary="communicate">Pour communiquer</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>D√©couverte de MySensors 2.1 <a href="https://www.mysensors.org"><i class="fa fa-external-link"></i></a> </h2>
                <p>
                    √Ä partir d'ici, l'utilisation de MySensors n'est pas celle pr√©vue.
                </p>
                <ul>
                    <li>Protocole Open Source et DIY bas√© sur NRF24L01</li>
                    <li>Pr√©sent sur beaucoup de projets domotiques</li>
                    <li>Message : <b>dest</b>;<b>sensor</b>;<b>command</b>;<b>ack</b>;<b>type</b>;<b>payload</b></li>
                </ul>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center">Pour communiquer</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>Base de MySensors 2.1 <a href="https://www.mysensors.org/download/sensor_api_20"><i class="fa fa-external-link"></i></a> </h2>
                4 m√©thodes :
                <ul>
                    <li><span class="code">void setup()</span> : M√©thode de l'Arduino;</li>
                    <li><span class="code">void presentation()</span> : M√©thode pour pr√©senter les capteurs. Appel√©e juste au d√©but lorsque l'Arduino d√©marre;</li>
                    <li><span class="code">void loop()</span> : M√©thode de l'Arduino;</li>
                    <li><span class="code">void receive(const MyMessage &message)</span> : M√©thode appel√©e lorsqu'un message arrive</li>
                </ul>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center">Pour communiquer</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>MyMessage <a href="https://www.mysensors.org/download/sensor_api_20#message-constructor"><i class="fa fa-external-link"></i></a> </h2>
                Il s'agit de la classe qui g√®re les messages. Un message est associ√© √† un capteur. Un n≈ìud contient plusieurs capteurs.
                <ul>
                    <li><span class="code">MyMessage msg(CHILD_ID, TYPE) </span> : Constructeur, le type vient d'une √©num√©ration et commence par <b>V_</b>;</li>
                    <li><span class="code">msg.setDestination( int )</span> : Change le n≈ìud de destination;</li>
                    <li><span class="code">send( msg.set( VARIABLE ))</span> : Envoie une variable √† la dest. .</li>
                </ul>
            </div>
        </div>
    </div>
s
    <div>
        <h1 class="text-center">Pour communiquer</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>MyMessage <a href="https://github.com/mysensors/MySensors/blob/development/core/MyMessage.h"><i class="fa fa-external-link"></i></a> </h2>
                <ul>
                    <li><span class="code">msg.sender</span> : ID du n≈ìud √©metteur;</li>
                    <li><span class="code">msg.sensor</span> : Capteur li√© au message;</li>
                    <li><span class="code">msg.type</span> : Type du message (√©num. <b>mysensor_sensor</b>/<b>mysensor_data</b>/<b>mysensor_internal</b>);</li>
                    <li><span class="code">mGetCommand(msg.command_ack_payload)</span> : Commande du message (√©num. <b>mysensor_command</b>).</li>
                    <li><span class="code">msg.getString(), msg.getBool(), msg.getFloat(), msg.getInt(), ...</span></li>
                </ul>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center">Pour communiquer</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>D√©tail du TP</h2>
                <p>
                    L'objectif ici est de cr√©er un r√©seau Block-Chain tr√®s basique. Un n≈ìud ma√Ætre (le 0) enverra √† l'un des n≈ìuds esclaves (10,11,12,13,14,15,16,17) un n≈ìud de destination.
                </p>
                <p>
                    Le n≈ìud de d√©part devra alors s'allumer et transmettre √† un n≈ìud adjacent un message pour lui dire d'aller au n≈ìud suivant. Ainsi de suite jusqu'au n≈ìud final. Les Arduinos sur le passage devront s'allumer. Le message de transmission sera li√© au capteur 1.
                </p>
                <p>
                    C'est flou ? <i class="fa fa-smile-o"></i> Allons √† la slide suivante !
                </p>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center">Pour communiquer</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>D√©tail du TP</h2>
                <p>
                    Par exemple, 0 envoie au n≈ìud 15 la valeur 10 sur le capteur V_POSITION (<a href="https://www.mysensors.org/download/serial_api_20#set,-req" target="_blank">49</a>), voici un r√©sultat possible que l'on doit obtenir :
                </p>
                <div style="text-align: center">
                    <table>
                        <tr>
                            <td bgcolor="#FF8C00">10</td>
                            <td bgcolor="#FF8C00">12</td>
                            <td bgcolor="#FF8C00">14</td>
                            <td>16</td>
                            <td rowspan="0">0</td>
                        </tr>
                        <tr>
                            <td>11</td>
                            <td>13</td>
                            <td bgcolor="#FF8C00">15</td>
                            <td>17</td>
                        </tr>
                    </table>
                </div>
                <p>
                    Autre d√©tail important, si le capteur re√ßoit un message de la passerelle avec le type V_LIGHT_LEVEL (23), la lumi√®re doit s'√©teindre.
                </p>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center">Pour communiquer</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>Le code de base</h2>
                <h3><a href="https://gist.github.com/Servuc/cd3605c9591cc83a3442f3cff2bec3f0">Link <i class="fa fa-github"></i></a></h3>
                <p>
                    Code √† compl√©ter. Il suffit de faire correspondre votre code avec vos voisins.
                </p>
                <p>
                    PS : J'ai mis des TODOs un peu partout <i class="fa fa-smile-o"></i>
                </p>
            </div>
        </div>
    </div>

    <div>
        <h1 class="text-center">EXTRA</h1>
        <div class="slider-slide">
            <div class="row">
                <h2>Fin ...</h2>
                <div>
                    Prenez 5 minutes de feedback en allant <a href="https://docs.google.com/forms/d/e/1FAIpQLSfqZlCjTQCP_gT36y3IsxLPU6fZ678ZFXMwsQdejZai6XvQlg/viewform">ici</a> s'il vous plait <i class="fa fa-smile-o"></i>
                </div>
                <a href="http://imgur.com/gallery/jzbdd">
                    <img src="http://i.imgur.com/Wj6iE7i.gif">
                </a>
            </div>
        </div>
    </div>
</div>


<div class="slider-dots">
    Derni√®re maj : Voir <a href="https://github.com/Servuc/servuc.github.io">Github</a> üêª <span data="now">1</span> / <span data="total"></span>
</div>

<div class="slider-button-nav-prev"><i class="fa fa-arrow-circle-left"></i> Pr√©c√©dent</div>
<div class="slider-button-nav-next">Suivant <i class="fa fa-arrow-circle-right"></i></div>

<script src="/dist/jquery.min.js"></script>
<script src="/dist/foundation.min.js"></script>
<script src="/dist/slick.min.js"></script>
<script src="/dist/teaching.js"></script>
</body>
</html>
